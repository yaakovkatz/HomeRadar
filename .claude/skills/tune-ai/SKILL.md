---
name: tune-ai
description: Analyzes HomeRadar database to find patterns and suggests AI configuration improvements. Automatically detects new brokers, settlements, blacklist terms, and misclassified posts. Run weekly/monthly to keep filters updated.
---

# Tune AI Skill 🎯

**האוטומציה שתחסוך לך זמן!** סורק את בסיס הנתונים, מוצא דפוסים, ומציע עדכונים אוטומטיים להגדרות AI.

---

## 🎯 **מה ה-Skill הזה עושה:**

### **1. סריקת Database** 📊
- בוחן את כל הפוסטים שנסרקו (BROKER, NON_URBAN, SPAM, וכו')
- מזהה מילות מפתח חוזרות
- מוצא דפוסים של מתווכים חדשים
- מזהה יישובים שעברו מבעד לסינון
- **חדש!** מזהה פוסטים שאולי סווגו לא נכון על ידי ה-AI ⚠️

### **2. המלצות חכמות** 💡
```
🔍 מצאתי 12 פוסטים עם "דורון נכסים" (מתווך)
💡 המלצה: להוסיף ל-broker_keywords

🔍 מצאתי 8 פוסטים עם "יישוב עמנואל"
💡 המלצה: להוסיף ל-NON_URBAN (יישובים)

🔍 מצאתי 5 פוסטים עם "מחפש/ת חדר"
💡 המלצה: להוסיף ל-blacklist

⚠️ מצאתי 3 פוסטים שאולי סווגו לא נכון
💡 המלצה: בדוק ידנית - אולי צריך לשפר הנחיות AI
```

### **3. יישום אוטומטי** ⚡
- מעדכן את `config.json` (broker_keywords, blacklist)
- מעדכן את `ai_agents.py` (NON_URBAN)
- יוצר backup לפני שינויים
- מדווח מה שונה

---

## 🚀 **איך להשתמש:**

### **מצב 1: רק סקירה** (מומלץ לראשונה)
```bash
/tune-ai
```
מציג המלצות בלבד, **לא משנה כלום**.

### **מצב 2: אינטראקטיבי** (בטוח)
```bash
/tune-ai --interactive
```
עובר על כל המלצה ושואל: "לאשר? כן/לא"

### **מצב 3: אוטומטי מלא** (מהיר)
```bash
/tune-ai --apply
```
מיישם הכל אוטומטית (יוצר backup קודם!)

### **מצב 4: רק דוח** (לבדיקה)
```bash
/tune-ai --report
```
מציג סטטיסטיקות מפורטות על מה שנמצא

---

## ⏰ **מתי להריץ:**

| תדירות | מצב | סיבה |
|--------|-----|------|
| **שבועי** | `--interactive` | מתווכים חדשים מופיעים כל הזמן |
| **חודשי** | `--apply` | ניקיון כללי + אופטימיזציה |
| **אד-הוק** | רגיל | כשאתה רואה שמשהו עבר מבעד לסינון |

---

## 📋 **מה הסקריפט מחפש:**

### **A. מתווכים חדשים** 🏢
- פוסטים שסומנו כ-BROKER על ידי AI
- חילוץ שמות חברות: "דורון נכסים", "נדל"ן JF", וכו'
- המלצה להוסיף ל-`broker_keywords`

### **B. יישובים לא מוכרים** 🏘️
- פוסטים שעברו אבל מכילים שמות יישובים קטנים
- זיהוי: "מושב X", "יישוב Y", "התנחלות Z"
- המלצה להוסיף ל-NON_URBAN ב-`ai_agents.py`

### **C. ביטויים של "מחפש דירה"** 🔍
- ניתוח פוסטים שעברו אבל מכילים משפטים של חיפוש
- דוגמאות: "מחפש/ת חדר", "דרוש מקום", "זקוק ל..."
- המלצה להוסיף ל-`blacklist`

### **D. פוסטים שסווגו לא נכון** ⚠️ **חדש!**
- **RELEVANT עם מילות מתווך** - פוסט שסומן RELEVANT אבל יש בו broker_keywords
- **NON_URBAN מעיר רלוונטית** - פוסט שסומן NON_URBAN אבל העיר ברשימת הערים הרלוונטיות
- **BROKER ללא סימנים** - פוסט שסומן BROKER אבל אין בו סימני תיווך ברורים
- **המלצה:** לבדוק ידנית ולעדכן הנחיות AI אם נדרש

---

## 🛡️ **בטיחות:**

✅ **Backup אוטומטי** - לפני כל שינוי נוצר:
```
config.json.backup.2026-01-23_15-30
ai_agents.py.backup.2026-01-23_15-30
```

✅ **Dry-run תמיד זמין** - ללא `--apply` שום דבר לא משתנה

✅ **לוג מפורט** - כל שינוי מתועד ב-`tune_ai.log`

---

## 📊 **דוגמת פלט:**

```
🎯 Tune AI - סריקת בסיס נתונים

📊 סטטיסטיקות:
  ✅ 156 פוסטים רלוונטיים
  🚫 45 מתווכים נחסמו
  🏘️ 12 יישובים לא רלוונטיים
  ⚠️ 8 פוסטים ספאם

💡 המלצות (5):

1️⃣ מתווכים חדשים (2):
   🔍 "דורון נכסים" - 12 פוסטים
   🔍 "נדל"ן פלוס" - 8 פוסטים
   💡 להוסיף ל-broker_keywords

2️⃣ יישובים (1):
   🔍 "עמנואל" - 5 פוסטים
   💡 להוסיף ל-NON_URBAN

3️⃣ Blacklist (2):
   🔍 "מחפש/ת חדר" - 6 פוסטים
   🔍 "זקוק למקום" - 4 פוסטים
   💡 להוסיף ל-blacklist

4️⃣ פוסטים חשודים (3):
   ⚠️ Post #1234 - RELEVANT_WITH_BROKER_KEYWORDS
      מכיל מילות מתווך: דורון, נכסים
   ⚠️ Post #5678 - NON_URBAN_BUT_RELEVANT_CITY
      עיר 'ירושלים' רלוונטית אבל סומן NON_URBAN
   💡 בדוק ידנית - אולי צריך לעדכן הנחיות AI

✨ סה"כ 8 שיפורים מוצעים

הרץ עם --apply כדי ליישם, או --interactive לבחור
```

---

## 🔧 **תחזוקה:**

הסקריפט מתעדכן אוטומטית כשמוסיפים:
- עוד עמודות ל-DB
- עוד קטגוריות סינון
- עוד הגדרות ב-config

**אין צורך לשנות אותו ידנית!** 🎉

---

## 📝 **הערות:**

- הסקריפט ממוקם ב-`tune_ai.py`
- זמן ריצה: ~2-5 שניות (תלוי בכמות הפוסטים)
- פלט בעברית עם emojis ברורים
- תומך ב-dry-run, interactive, ו-auto modes

---

## 🆘 **אם משהו משתבש:**

1. **שגיאת DB** → הרץ `/validate-setup` קודם
2. **Backup לא עובד** → בדוק הרשאות כתיבה
3. **שינויים לא מתבצעים** → ודא שהשתמשת ב-`--apply`

---

**זה הכלי שיעזור לך להישאר מעודכן ללא מאמץ!** 🚀
